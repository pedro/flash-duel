#!/usr/bin/env ruby

$: << File.dirname(__FILE__) + "/../lib/flash_duel"

require "engine"
require "board"
require "bot"

include FlashDuel

def load_player(file)
  m = Module.new
  m.class_eval(File.read(file))
  m.const_get(m.constants.first).new
end

game = Engine.new(load_player(ARGV.shift), load_player(ARGV.shift))
game.run
puts "AND TEH WINNER IS: #{game.winner}"